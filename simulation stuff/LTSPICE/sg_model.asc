Version 4
SHEET 1 1600 680
WIRE 464 64 416 64
WIRE 272 80 -48 80
WIRE 272 144 272 80
WIRE 416 160 416 64
WIRE 416 160 320 160
WIRE 528 160 416 160
WIRE 1200 160 864 160
WIRE 1344 160 1200 160
WIRE 1200 192 1200 160
WIRE 368 208 320 208
WIRE 608 208 608 160
WIRE 704 208 608 208
WIRE 992 208 864 208
WIRE 272 256 272 224
WIRE 992 256 992 208
WIRE 368 272 368 208
WIRE 416 272 416 224
WIRE 416 272 368 272
WIRE 416 288 416 272
WIRE 272 384 272 336
WIRE 272 384 -48 384
WIRE 992 416 992 336
WIRE 1200 416 1200 272
FLAG 416 288 0
FLAG 992 416 0
FLAG 1200 416 0
FLAG 464 64 control
FLAG 1344 160 BC
FLAG -48 80 1
FLAG -48 384 2
SYMBOL voltage 992 240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 1
SYMBOL voltage 272 240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 44 Left 2
SYMATTR InstName V2
SYMATTR Value ""
SYMBOL res 624 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rcont
SYMATTR Value 1
SYMBOL cap 400 160 R0
SYMATTR InstName C1
SYMATTR Value 10p
SYMBOL bv 1200 176 R0
SYMATTR InstName Bcharge
SYMATTR Value V=if(V(1)>=Vbreakdown,1,0)
SYMBOL Digital\\dflop 784 256 R180
SYMATTR InstName A1
SYMBOL sw 272 240 R180
SYMATTR InstName SW1
SYMATTR Value Sgap
TEXT -728 -200 Left 2 !.IC V(1)=0 V(control)=0\n.model Sgap SW(Ron=1u Roff=100Meg Vt=0.5 Vh=0)\n.param Vbreakdown=299.8k
TEXT -720 -248 Left 2 !.tran 0 5000ns 0
