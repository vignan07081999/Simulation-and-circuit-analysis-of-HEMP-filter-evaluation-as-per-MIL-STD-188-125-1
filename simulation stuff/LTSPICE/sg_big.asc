Version 4
SHEET 1 880 2168
WIRE 112 -464 48 -464
WIRE 224 -464 192 -464
WIRE 480 -464 304 -464
WIRE -640 -416 -800 -416
WIRE -432 -416 -576 -416
WIRE 304 -416 304 -464
WIRE -624 -352 -640 -352
WIRE -544 -352 -592 -352
WIRE 48 -352 48 -464
WIRE 304 -352 48 -352
WIRE -624 -336 -624 -352
WIRE -624 -336 -640 -336
WIRE -544 -336 -544 -352
WIRE -640 -320 -640 -336
WIRE -592 -320 -592 -352
WIRE -800 -272 -800 -416
WIRE -800 -272 -864 -272
WIRE -768 -272 -800 -272
WIRE -656 -272 -688 -272
WIRE -544 -272 -576 -272
WIRE -432 -272 -432 -416
WIRE -432 -272 -464 -272
WIRE -384 -272 -432 -272
WIRE 48 -256 48 -352
WIRE 112 -256 48 -256
WIRE 480 -256 192 -256
WIRE -864 -240 -864 -272
WIRE 48 -64 48 -256
WIRE 112 -64 48 -64
WIRE 480 -64 192 -64
WIRE 48 112 48 -64
WIRE 112 112 48 112
WIRE 528 112 192 112
WIRE -416 192 -752 192
WIRE -832 208 -896 208
WIRE -752 208 -752 192
WIRE 48 288 48 112
WIRE 112 288 48 288
WIRE 192 288 176 288
WIRE 480 288 192 288
WIRE -896 352 -896 208
WIRE -832 352 -896 352
WIRE -608 352 -752 352
WIRE 48 448 48 288
WIRE 112 448 48 448
WIRE 480 448 192 448
WIRE -416 464 -448 464
WIRE -896 480 -896 352
WIRE -832 480 -896 480
WIRE -608 480 -608 352
WIRE -608 480 -768 480
WIRE -448 480 -448 464
WIRE -448 480 -608 480
WIRE -896 608 -896 480
WIRE -832 608 -896 608
WIRE -688 608 -752 608
WIRE -688 624 -688 608
WIRE -416 624 -688 624
WIRE 48 640 48 448
WIRE 112 640 48 640
WIRE 400 640 192 640
WIRE 480 640 400 640
WIRE 400 720 400 640
WIRE 48 736 48 640
WIRE 352 736 48 736
WIRE -896 768 -896 608
WIRE -832 768 -896 768
WIRE -656 768 -752 768
WIRE -656 800 -656 768
WIRE 48 816 48 736
WIRE 112 816 48 816
WIRE 352 816 352 784
WIRE 352 816 192 816
WIRE 400 816 400 800
WIRE 480 816 400 816
WIRE -896 880 -896 768
WIRE -752 880 -896 880
WIRE -656 880 -656 864
WIRE -656 880 -688 880
WIRE 48 912 48 816
WIRE 240 912 48 912
WIRE 400 912 400 816
WIRE 400 912 304 912
WIRE -896 976 -896 880
WIRE -832 976 -896 976
WIRE -656 976 -656 880
WIRE -656 976 -752 976
WIRE -416 976 -656 976
WIRE 48 992 48 912
WIRE 112 992 48 992
WIRE 480 992 192 992
WIRE -896 1152 -896 976
WIRE -832 1152 -896 1152
WIRE -416 1152 -752 1152
WIRE 48 1184 48 992
WIRE 112 1184 48 1184
WIRE 480 1184 192 1184
WIRE -896 1296 -896 1152
WIRE -832 1296 -896 1296
WIRE -736 1296 -752 1296
WIRE -416 1312 -592 1312
WIRE -592 1344 -592 1312
WIRE -896 1360 -896 1296
WIRE -640 1360 -896 1360
WIRE -736 1408 -736 1296
WIRE -640 1408 -736 1408
WIRE 48 1408 48 1184
WIRE 128 1408 48 1408
WIRE 480 1408 208 1408
WIRE -896 1488 -896 1360
WIRE -832 1488 -896 1488
WIRE -592 1488 -592 1424
WIRE -592 1488 -768 1488
WIRE -592 1504 -592 1488
WIRE -416 1504 -592 1504
WIRE -896 1568 -896 1488
WIRE 48 1600 48 1408
WIRE 128 1600 48 1600
WIRE 480 1600 208 1600
WIRE 48 1808 48 1600
WIRE 128 1808 48 1808
WIRE 480 1808 208 1808
WIRE 48 2016 48 1808
WIRE 128 2016 48 2016
WIRE 480 2016 208 2016
WIRE 48 2128 48 2016
FLAG -640 -352 Ch_On
IOPIN -640 -352 In
FLAG -544 -336 0
FLAG -864 -240 T1
IOPIN -864 -240 BiDir
FLAG -384 -272 T2
IOPIN -384 -272 BiDir
FLAG 48 2128 0
FLAG 480 -464 Ch_On
IOPIN 480 -464 Out
FLAG 480 -256 Maintain
IOPIN 480 -256 Out
FLAG 480 -64 I_Min
IOPIN 480 -64 Out
FLAG 528 112 Delay_Over
IOPIN 528 112 Out
FLAG 480 288 Delay
IOPIN 480 288 Out
FLAG 480 448 T_Over
IOPIN 480 448 Out
FLAG 480 640 Time
IOPIN 480 640 Out
FLAG 480 816 T_B
IOPIN 480 816 Out
FLAG 480 992 Over
IOPIN 480 992 Out
FLAG 480 1184 I_Ch
IOPIN 480 1184 Out
FLAG 480 1408 E_Gap
IOPIN 480 1408 Out
FLAG 480 1600 V_Gap
IOPIN 480 1600 Out
FLAG 480 1808 V_Break
IOPIN 480 1808 Out
FLAG 480 2016 Rho_V
IOPIN 480 2016 Out
FLAG -896 1568 0
FLAG -416 1312 Time
IOPIN -416 1312 Out
FLAG -416 1504 T_C
IOPIN -416 1504 Out
FLAG -416 1152 T_arc
IOPIN -416 1152 Out
FLAG -416 976 Ch_Rad
IOPIN -416 976 Out
FLAG -416 624 R_Ch
IOPIN -416 624 Out
FLAG -416 464 Int_V_L
IOPIN -416 464 Out
FLAG -416 192 L_Ch
IOPIN -416 192 Out
SYMBOL sw -560 -272 R90
SYMATTR InstName S_Ch
SYMBOL bv -560 -272 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -94 146 VBottom 2
SYMATTR InstName B_Res
SYMATTR Value V=I(B_Res)*V(R_Ch)
SYMBOL bi -768 -272 R270
WINDOW 0 32 40 VTop 2
WINDOW 3 -99 15 VBottom 2
SYMATTR InstName B_Ind
SYMATTR Value I=V(Int_V_L)/V(L_Ch)
SYMBOL cap -576 -432 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C_Gap
SYMATTR Value {C}
SYMBOL bv 208 -464 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 -89 -57 VTop 2
SYMATTR InstName B_Ch_On
SYMATTR Value V=V(Delay_Over)|V(Maintain)
SYMBOL bv 208 -256 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 34 -35 VTop 2
SYMATTR InstName B_Maint
SYMATTR Value V=V(I_Ch)>V(I_Min)
SYMBOL bv 208 -64 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName B_I_Min
SYMATTR Value V=0.05m
SYMBOL bv 208 112 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 -3 VTop 2
SYMATTR InstName B_Dly_Ovr
SYMATTR Value V=V(T_Over)>V(delay)
SYMBOL bv 208 288 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 39 -183 VTop 2
SYMATTR InstName B_Dly
SYMATTR Value V=limit(1e-12, 1e-5, TH_Martin(V(E_Gap), V(Rho_V)))
SYMBOL bv 208 448 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName B_T_Ovr
SYMATTR Value V+time-V(T_B)
SYMBOL bv 208 640 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName B_Time
SYMATTR Value V=time
SYMBOL bv 208 816 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName B_!Ovr
SYMATTR Value V=inv(V(Over))
SYMBOL bv 208 992 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 38 -230 VTop 2
SYMATTR InstName B_Ovr
SYMATTR Value V=if((V(V_Gap)>V(V_Break)),tanh((V(V_Gap)-V(V_Break))),0)
SYMBOL bv 208 1184 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName B_I_Ch
SYMATTR Value V=abs(I(B_Res))
SYMBOL bv 224 1408 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName B_E_Gap
SYMATTR Value V=V(V_Gp)/{D}
SYMBOL bv 224 1600 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName B_V_Gap
SYMATTR Value V=abs(V(T1,T2))
SYMBOL bv 224 1808 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName B_V_Brk
SYMATTR Value V=Uniform_Air({D},{P})
SYMBOL bv 224 2016 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName B_Rho
SYMATTR Value V=({P}/760)*1.2
SYMBOL cap 288 -416 R0
SYMATTR InstName C1
SYMATTR Value 10p
SYMBOL res 320 -480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 10
SYMBOL sw 400 704 R0
SYMATTR InstName S2
SYMBOL cap 304 896 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 100p
SYMBOL bv -736 208 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 36 -130 VTop 2
SYMATTR InstName B_L_Ch
SYMATTR Value V=limit(1,100,wire_Ind({D},V(Ch_Rad)))
SYMBOL bv -736 608 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 41 -214 VTop 2
SYMATTR InstName B_R_Ch
SYMATTR Value V=limit(1E-3,1e1,vlastos({D},V(Ch_Rad),V(I_Ch),V(Ch_On)))
SYMBOL bv -736 768 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 -32 -230 VTop 2
SYMATTR InstName B_Ch_Rad
SYMATTR Value V=Braginshii(V(I_Ch),V(T_arc),V(Rho_V))
SYMBOL bv -736 1152 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName B_T_Arc
SYMATTR Value V=time-V(T_C)
SYMBOL bv -736 1296 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName B_!On
SYMATTR Value V=inv(V(Ch_On))
SYMBOL bi -832 352 R270
WINDOW 0 32 40 VTop 2
WINDOW 3 -32 40 VBottom 2
SYMATTR InstName B_V_Ind
SYMATTR Value I=V(T1,A)
SYMBOL cap -768 1472 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 100p
SYMBOL sw -592 1328 R0
SYMATTR InstName S1
SYMBOL res -736 960 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1000
SYMBOL cap -688 864 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 10n
SYMBOL cap -768 464 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value 1n
SYMBOL diode -672 800 R0
SYMATTR InstName D1
TEXT -896 -504 Left 2 !.model S_Ch sw(Vt=0.5, Ron=1m Roff=1e9 Vh=-0.01)
TEXT -592 840 Left 2 !.model D d(ron=1u)
TEXT -816 1568 Left 2 !.model SW SW(Vt=0.5 Ron=1m Vh=0.1)
TEXT -936 2152 Left 2 !.tran 5
