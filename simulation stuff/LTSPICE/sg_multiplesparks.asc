Version 4
SHEET 1 2124 680
WIRE 1232 -848 1120 -848
WIRE 1120 -800 1120 -848
WIRE 1232 -800 1232 -848
WIRE 336 -720 288 -720
WIRE 1120 -688 1120 -720
WIRE 1168 -688 1120 -688
WIRE 800 -672 752 -672
WIRE 144 -656 16 -656
WIRE 288 -656 288 -720
WIRE 288 -656 224 -656
WIRE 400 -656 288 -656
WIRE 608 -656 480 -656
WIRE 1120 -624 1120 -688
WIRE 608 -592 608 -656
WIRE 288 -576 288 -656
WIRE 752 -576 752 -672
WIRE 752 -576 656 -576
WIRE 864 -576 752 -576
WIRE 1536 -576 1200 -576
WIRE 1680 -576 1536 -576
WIRE 16 -544 16 -656
WIRE 1536 -544 1536 -576
WIRE 704 -528 656 -528
WIRE 944 -528 944 -576
WIRE 1040 -528 944 -528
WIRE 1328 -528 1200 -528
WIRE 608 -480 608 -512
WIRE 1328 -480 1328 -528
WIRE 704 -464 704 -528
WIRE 752 -464 752 -512
WIRE 752 -464 704 -464
WIRE 752 -448 752 -464
WIRE 16 -352 16 -464
WIRE 288 -352 288 -512
WIRE 288 -352 16 -352
WIRE 608 -352 608 -400
WIRE 608 -352 288 -352
WIRE 288 -320 288 -352
WIRE 1328 -320 1328 -400
WIRE 1536 -320 1536 -464
FLAG 752 -448 0
FLAG 288 -320 0
FLAG 1232 -800 0
FLAG 1328 -320 0
FLAG 1536 -320 0
FLAG 1168 -688 BD
FLAG 800 -672 control
FLAG 336 -720 cap
FLAG 1680 -576 BC
SYMBOL voltage 16 -560 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 6000
SYMBOL voltage 1328 -496 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 1
SYMBOL voltage 608 -496 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 0
SYMBOL res 240 -672 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rmain
SYMATTR Value 2Meg
SYMBOL res 496 -672 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rgap
SYMATTR Value 100
SYMBOL res 960 -592 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rcont
SYMATTR Value 1
SYMBOL cap 272 -576 R0
SYMATTR InstName Cmain
SYMATTR Value 8800p
SYMBOL cap 736 -576 R0
SYMATTR InstName C1
SYMATTR Value 1000p
SYMBOL bv 1120 -704 R180
WINDOW 0 58 171 Left 2
WINDOW 3 52 204 Left 2
SYMATTR InstName Bdischarge
SYMATTR Value V=if(((ddt(I(V3))<0)&(I(V3)<Icutoff)),1,0)
SYMBOL bv 1536 -560 R0
SYMATTR InstName Bcharge
SYMATTR Value V=if(V(cap)>=Vbreakdown,1,0)
SYMBOL Digital\\dflop 1120 -480 R180
SYMATTR InstName A1
SYMBOL sw 608 -496 R180
SYMATTR InstName SW
SYMATTR Value Sgap
TEXT -392 -936 Left 2 !.IC V(cap)=0 V(control)=0\n.model Sgap SW(Ron=1u Roff=100Meg Vt=0.5 Vh=0)\n.param Vbreakdown=3300 Icutoff=0.1
TEXT -394 -296 Left 2 !.tran 0 4 0
